<!DOCTYPE html>
<html lang="en-US">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>clock | Olay</title>
    <link rel="stylesheet" href="../default.css">
</head>
<body>
    <div class="mod"></div>


    <script type="module">
        import { modConf } from './conf.js'

        const outputElement = document.querySelector('div.mod')

        update()
        setInterval(() => {
            update()
        }, modConf.updateRate)


        function update()
        {
            if (modConf.type == 'human') {
                const dt = new Date()
                let ht = modConf.humanFormat
                ht = ht.replace('{year}', String(dt.getFullYear()).padStart(2, '0'))
                ht = ht.replace('{month}', String(dt.getMonth() + 1).padStart(2, '0'))
                ht = ht.replace('{day}', String(dt.getDate()).padStart(2, '0'))
                ht = ht.replace('{hour}', String(dt.getHours()).padStart(2, '0'))
                ht = ht.replace('{minute}', String(dt.getMinutes()).padStart(2, '0'))
                ht = ht.replace('{second}', String(dt.getSeconds()).padStart(2, '0'))
                ht = ht.replace('{millisecond}', String(dt.getMilliseconds()).padEnd(3, '0'))
                ht = ht.replace('{timezoneOffset}', `UTC${String(dt.getTimezoneOffset() / 60)}`)
                outputElement.innerHTML = ht
            }

            if (modConf.type == 'unix') {
                outputElement.innerHTML = String(Math.floor(Date.now() / 1000))
            }

            if (modConf.type == 'unixms') {
                outputElement.innerHTML = String(Date.now())
            }
        }
    </script>
</body>
</html>
